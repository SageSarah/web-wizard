<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>My Password Validator</title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
	<style>
		body {
			background-color: lightblue;
			font-family: 'Roboto', Arial, sans-serif;
		}

		.content {
			font-size: 25px;
			display: flex;
			align-items: center;
			justify-content: center;
		}

		.card {
			font-size: 20px;
			width: 70%;
			background-color: skyblue;
			padding: 20px;
			border-radius: 20px;
		}

		.card-header > h2 {
			margin: 0;
		}

		.card-body {
			width: 100%;
			background-color: skyblue;
		}

		.form-input > input {
			font-size: 14px;
			padding: 10px;
			width: 97%;
		}

		.tbl-rules {
			margin-top: 10px;
			margin-bottom: 10px;
		}

		.green {
			color: green;
		}

		.red {
			color: red;
		}

		.progress {
			margin-top: 10px;
		}
	</style>
</head>

<body>
	<div class="content">
		<div class="card">
			<div class="card-header">
				<h2>Midterm Exam: Password Validator</h2>
				<hr>
			</div>
			<div class="card-body">
				<div class="form-input">
					<label>Username:</label>
					<input type="text" id="userName" name="" class="form-control">
				</div>
				<div class="tbl-rules">
					<table>
						<tr>
							<td><i id="iconUpperCaseName" class="fa fa-circle-xmark red"></i></td>
							<td>Has uppercase</td>
						</tr>
						<tr>
							<td><i id="iconLowerCaseName" class="fa fa-circle-xmark red"></i></td>
							<td>Has lowercase</td>
						</tr>
						<tr>
							<td><i id="iconSpCharName" class="fa fa-circle-xmark red"></i></td>
							<td>Has special characters</td>
						</tr>
					</table>
				</div>
				<div class="form-input">
					<label>Password:</label>
					<input type="password" name="" id="password" class="form-control">
				</div>
				<div class="tbl-rules">
					<table>
						<tr>
							<td><i id="iconUpperCasePass" class="fa fa-circle-xmark red"></i></td>
							<td>Has uppercase</td>
						</tr>
						<tr>
							<td><i id="iconLowerCasePass" class="fa fa-circle-xmark red"></i></td>
							<td>Has lowercase</td>
						</tr>
						<tr>
							<td><i id="iconSpCharPass" class="fa fa-circle-xmark red"></i></td>
							<td>Has special characters</td>
						</tr>
						<tr>
							<td><i id="iconNumPass" class="fa fa-circle-xmark red"></i></td>
							<td>Has numbers</td>
						</tr>
						<tr>
							<td><i id="iconLengthPass" class="fa fa-circle-xmark red"></i></td>
							<td>8 characters or more</td>
						</tr>
					</table>
				</div>
				<div class="progress">
					<div class="progress-bar" id="progressBar" role="progressbar" style="width: 0%;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
				</div>
			</div>
		</div>
	</div>

	<script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
	<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.1/dist/umd/popper.min.js"></script>
	<script type="text/javascript" src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
	<script>
		const userName = document.getElementById("userName");
const password = document.getElementById("password");
const progressBar = document.querySelector(".progress-bar");

const iconUpperCaseName = document.getElementById('iconUpperCaseName');
const iconLowerCaseName = document.getElementById('iconLowerCaseName');
const iconSpCharName = document.getElementById('iconSpCharName');

const iconUpperCasePass = document.getElementById("iconUpperCasePass");
const iconLowerCasePass = document.getElementById("iconLowerCasePass");
const iconSpCharPass = document.getElementById("iconSpCharPass");
const iconNumPass = document.getElementById("iconNumPass");
const iconLengthPass = document.getElementById("iconLengthPass");

userName.addEventListener('keyup', function () {
    validateUserName(this.value);
});

password.addEventListener('keyup', function () {
    validatePassword(this.value);
});

function validateUserName(e) {
    var test = /[A-Z]/.test(e);
    var test2 = /[a-z]/.test(e);
    var test3 = /[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(e);

    if (test) {
        iconUpperCaseName.classList.replace("fa-circle-xmark", "fa-circle-check");
        iconUpperCaseName.classList.replace("red", "green");
    } else {
        iconUpperCaseName.classList.replace("fa-circle-check", "fa-circle-xmark");
        iconUpperCaseName.classList.replace("green", "red");
    }
    if (test2) {
        iconLowerCaseName.classList.replace("fa-circle-xmark", "fa-circle-check");
        iconLowerCaseName.classList.replace("red", "green");
    } else {
        iconLowerCaseName.classList.replace("fa-circle-check", "fa-circle-xmark");
        iconLowerCaseName.classList.replace("green", "red");
    }
    if (test3) {
        iconSpCharName.classList.replace("fa-circle-xmark", "fa-circle-check");
        iconSpCharName.classList.replace("red", "green");
    } else {
        iconSpCharName.classList.replace("fa-circle-check", "fa-circle-xmark");
        iconSpCharName.classList.replace("green", "red");
    }

    updateProgressBar();
}

function validatePassword(e) {
    var test = /[A-Z]/.test(e);
    var test2 = /[a-z]/.test(e);
    var test3 = /[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(e);
    var test4 = /[0-9]/.test(e);
    var test5 = e.length >= 8;

    if (test) {
        iconUpperCasePass.classList.replace("fa-circle-xmark", "fa-circle-check");
        iconUpperCasePass.classList.replace("red", "green");
    } else {
        iconUpperCasePass.classList.replace("fa-circle-check", "fa-circle-xmark");
        iconUpperCasePass.classList.replace("green", "red");
    }

    if (test2) {
        iconLowerCasePass.classList.replace("fa-circle-xmark", "fa-circle-check");
        iconLowerCasePass.classList.replace("red", "green");
    } else {
        iconLowerCasePass.classList.replace("fa-circle-check", "fa-circle-xmark");
        iconLowerCasePass.classList.replace("green", "red");
    }

    if (test3) {
        iconSpCharPass.classList.replace("fa-circle-xmark", "fa-circle-check");
        iconSpCharPass.classList.replace("red", "green");
    } else {
        iconSpCharPass.classList.replace("fa-circle-check", "fa-circle-xmark");
        iconSpCharPass.classList.replace("green", "red");
    }

    if (test4) {
        iconNumPass.classList.replace("fa-circle-xmark", "fa-circle-check");
        iconNumPass.classList.replace("red", "green");
    } else {
        iconNumPass.classList.replace("fa-circle-check", "fa-circle-xmark");
        iconNumPass.classList.replace("green", "red");
    }

    if (test5) {
        iconLengthPass.classList.replace("fa-circle-xmark", "fa-circle-check");
        iconLengthPass.classList.replace("red", "green");
    } else {
        iconLengthPass.classList.replace("fa-circle-check", "fa-circle-xmark");
        iconLengthPass.classList.replace("green", "red");
    }

    updateProgressBar();
}

function updateProgressBar() {
    const validIcons = document.querySelectorAll('.fa-circle-check').length;
    const totalIcons = 8;
    const progress = (validIcons / totalIcons) * 100;
    progressBar.style.width = `${progress}%`;
}
	</script>
</body>
</html>
